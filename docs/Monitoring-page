âœ… PAGE NAME:

/super-admin/server-monitor

ğŸ¯ TUJUAN PAGE:

Satu halaman untuk mengontrol kesehatan server, Docker stack, resource usage, logs, dan status service penting, tanpa harus masuk terminal.

ğŸ“Œ FITUR WAJIB (Prioritas Tinggi)
1ï¸âƒ£ Docker Containers Monitor (Live Status)

List semua container:

Name

Image

Status (Up, Restarting, Down)

Health check

Port mapping

CPU & RAM usage (via Docker API)

Tombol:

Restart container

Stop container

View logs (popup)

Route API:

GET /api/admin/docker/containers

POST /api/admin/docker/restart/:name

POST /api/admin/docker/stop/:name

GET /api/admin/docker/logs/:name

2ï¸âƒ£ Server Resource Monitor (System Health)

CPU usage (realtime)

RAM usage (total & used)

Disk usage (per mount)

Uptime

Load average

Route:

GET /api/admin/server/resources

3ï¸âƒ£ Backend Services Health

Cek service internal:

Backend status (ping)

Postgres connection

Redis connection

Prometheus

Loki

Nginx

Cloudflared

API Health:

GET /api/admin/health

4ï¸âƒ£ Logs Viewer (Centralized)

Bisa pilih log dari:

Backend

Frontend

Nginx

PostgreSQL

Redis

Loki

Promtail

Route:

GET /api/admin/logs/:type?tail=200

ğŸ“Œ FITUR OPSIONAL (Prioritas Menengah)
5ï¸âƒ£ Grafana Quick Link embed

Tampilkan iframe dashboard resource.

Route: none (just link embed dashboard)

6ï¸âƒ£ Backup Reminder Status

Bukan untuk backup database, hanya reminder:

"Last backup run"

"Next scheduled backup"

(Optional: fetch from cron logs)

7ï¸âƒ£ Realtime Events

Socket kecil untuk:

Container down

Health check fail

High CPU alert

Disk full warning

Route:

ws://.../admin/server-events

ğŸ§­ ROUTE FE FRONTEND
/super-admin/server-monitor


Sub-tabs (recommended):

/docker

/resources

/health

/logs

ğŸ“‚ STRUKTUR BACKEND
/routes/admin/server
/routes/admin/docker
/routes/admin/logs

PRIORITAS KERJA â€” STOP BUANG WAKTU

Buat backend endpoint untuk Docker list & server resource

Frontend tab Docker Monitor

Tambah action restart/stop + log viewer

Tambah tab Resource Monitor (CPU, RAM, Disk)

Tambah health check

Optional: realtime alerts