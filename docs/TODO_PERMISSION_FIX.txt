TODO - Perbaikan Permission & Menu Dashboard
===============================================
Created: 6 Desember 2025

ISSUES YANG DITEMUKAN:
----------------------
1. Menu "Kelola Store" HILANG untuk ADMIN_TENANT di AppLayout
   - Route sudah ada: /app/stores
   - Component sudah ada: Stores.vue
   - Backend route sudah ada: /api/outlets
   - TAPI: Menu tidak muncul di AppLayout (section Manajemen)

2. Permission Route Stores tidak sesuai
   - Current: ['ADMIN_TENANT', 'SUPERVISOR', 'SUPER_ADMIN']
   - Should be: ['ADMIN_TENANT', 'SUPER_ADMIN'] (SUPERVISOR tidak boleh manage stores)

3. Backend Route Outlet tidak ada role guard
   - POST /api/outlets - Tidak ada roleGuard (seharusnya hanya ADMIN_TENANT)
   - PUT /api/outlets/:id - Tidak ada roleGuard (seharusnya hanya ADMIN_TENANT)
   - DELETE /api/outlets/:id - Tidak ada roleGuard (seharusnya hanya ADMIN_TENANT)
   - GET /api/outlets - Boleh untuk semua yang ter-authenticate (untuk SUPERVISOR lihat list)

TASKS COMPLETED:
----------------
✅ 1. Tambahkan menu Stores di AppLayout.vue (section Manajemen)
✅ 2. Perbaiki route permission stores - Hapus SUPERVISOR dari meta roles
✅ 3. Tambahkan roleGuard untuk POST/PUT/DELETE outlet routes (hanya ADMIN_TENANT)

TASKS COMPLETED (UPDATE):
-------------------------
✅ 4. Cek semua layout untuk konsistensi menu
   - TenantLayout.vue - Menu stores sudah ada (line 416-426, hanya ADMIN_TENANT) ✅
   - AppLayout.vue - Menu stores sudah ditambahkan (line 202-216, hanya ADMIN_TENANT) ✅
   - KasirLayout.vue - Tidak perlu stores (hanya kasir) ✅
   - KitchenLayout.vue - Tidak perlu stores (hanya kitchen) ✅
   - DynamicLayout.vue - Layout selector, tidak ada menu sendiri ✅

TASKS PENDING:
--------------
⏳ 5. Test semua permission:
   - Login sebagai ADMIN_TENANT - Menu stores harus muncul
   - Login sebagai SUPERVISOR - Menu stores TIDAK muncul
   - Login sebagai CASHIER - Menu stores TIDAK muncul
   - Login sebagai KITCHEN - Menu stores TIDAK muncul
   - Test API: POST/PUT/DELETE /api/outlets harus return 403 untuk non-ADMIN_TENANT

⏳ 6. Verifikasi semua menu sesuai role:
   ADMIN_TENANT:
   - Dashboard ✅
   - Produk ✅
   - Pesanan ✅
   - Pelanggan ✅
   - Laporan ✅
   - Kelola Store ✅ (FIXED)
   - Pengguna ✅
   - Diskon ✅
   - Berlangganan ✅
   - Addon ✅
   - Point Gratis ✅

   SUPERVISOR:
   - Dashboard ✅
   - Produk (jika permission) ✅
   - Pesanan (jika permission) ✅
   - Pelanggan (jika permission) ✅
   - Laporan (jika permission) ✅
   - Kelola Store ❌ (TIDAK ADA - CORRECT)

   CASHIER:
   - Dashboard ✅
   - Produk (jika permission) ✅
   - Pesanan ✅
   - Pelanggan (jika permission) ✅
   - Laporan (jika permission) ✅
   - POS ✅
   - Kelola Store ❌ (TIDAK ADA - CORRECT)

   KITCHEN:
   - Dashboard ✅
   - Pesanan Masuk ✅
   - Kelola Store ❌ (TIDAK ADA - CORRECT)

FILES MODIFIED:
---------------
1. client/src/layouts/AppLayout.vue
   - Added menu "Kelola Store" di section Manajemen (ADMIN_TENANT only)

2. client/src/router/index.ts
   - Changed stores route meta.roles dari ['ADMIN_TENANT', 'SUPERVISOR', 'SUPER_ADMIN'] 
     menjadi ['ADMIN_TENANT', 'SUPER_ADMIN']

3. src/routes/outlet.routes.ts
   - Added roleGuard('ADMIN_TENANT', 'SUPER_ADMIN') untuk POST, PUT, DELETE routes
   - Import roleGuard dari auth middleware

NEXT STEPS:
-----------
1. Test login sebagai ADMIN_TENANT - Pastikan menu "Kelola Store" muncul
2. Test create/update/delete store - Pastikan berfungsi
3. Test login sebagai SUPERVISOR - Pastikan menu stores TIDAK muncul
4. Test API endpoint /api/outlets dengan role berbeda
5. Verify semua permission working correctly
